<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thực Đơn Tính Tiền</title>
    <style>
      /* Basic styles for background, table, and layout */
      body {
        background-image: url("IMAGES/BG-1.jpg"); /* Sets background image */
        background-size: cover; /* Ensures the image covers the whole background */
        background-position: center;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif; /* Sets default font */
      }

      table {
        width: 100%; /* Makes table take full width */
        border-collapse: collapse; /* Removes gaps between table cells */
        margin-bottom: 20px; /* Adds space below the table */
      }

      table,
      th,
      td {
        border: 1px solid #000; /* Sets border around table, headers, and cells */
        padding: 10px; /* Adds padding to cells */
        text-align: center; /* Centers text in table cells */
      }

      th {
        background-color: yellow; /* Highlights header row in yellow */
      }

      td {
        background-color: #ccffcc; /* Gives cells a light green color */
        cursor: pointer; /* Changes the cursor to indicate clickable cells */
      }

      .result-table {
        background-color: lightblue; /* Sets a light blue background for the result table */
      }

      .menu {
        background-color: #e6ff66; /* Sets a bright yellow background for the menu */
        padding: 20px; /* Adds padding around the menu */
      }

      .button {
        padding: 10px 20px;
        background-color: #4caf50; /* Green color for buttons */
        color: white; /* White text for buttons */
        border: none;
        cursor: pointer; /* Pointer for buttons */
      }

      .button:hover {
        background-color: #9dbb27; /* Slightly darker green when hovering */
      }

      #totalAmountBox {
        padding: 15px; /* Padding for the total amount box */
        background-color: #f9f9f9; /* Light background for total amount */
        border-top: 2px solid #4caf50; /* Green border at the top */
        font-weight: bold; /* Bold text */
        font-size: 1.2em; /* Slightly larger font size */
        text-align: center; /* Centers the text */
      }

      input[type="number"] {
        width: 50px; /* Sets width for the number input field */
        padding: 5px; /* Adds padding inside the input */
        text-align: center; /* Centers the number text inside the input field */
      }
    </style>
  </head>
  <body>
    <div class="menu">
      <h2>THỰC ĐƠN</h2>
      <!-- Menu header -->
      <table>
        <tr>
          <th>Thức ăn</th>
          <!-- Food column -->
          <th>Nước uống</th>
          <!-- Drink column -->
        </tr>
        <!-- Menu items, clicking adds the dish to the bill -->
        <tr>
          <td onclick="addDish('Bún bò')">Bún bò - 20.000 VND</td>
          <td onclick="addDish('Cà phê đá')">Cà phê đá - 15.000 VND</td>
        </tr>
        <tr>
          <td onclick="addDish('Hủ tiếu')">Hủ tiếu - 20.000 VND</td>
          <td onclick="addDish('Cà phê sữa')">Cà phê sữa - 20.000 VND</td>
        </tr>
        <tr>
          <td onclick="addDish('Bánh canh')">Bánh canh - 20.000 VND</td>
          <td onclick="addDish('Chanh dây')">Chanh dây - 15.000 VND</td>
        </tr>
        <tr>
          <td onclick="addDish('Phở bò')">Phở bò - 20.000 VND</td>
          <td onclick="addDish('Chanh muối')">Chanh muối - 15.000 VND</td>
        </tr>
        <tr>
          <td onclick="addDish('Nui')">Nui - 20.000 VND</td>
          <td onclick="addDish('Xí muội')">Xí muội - 15.000 VND</td>
        </tr>
        <tr>
          <td onclick="addDish('Bánh mì thịt')">Bánh mì thịt - 15.000 VND</td>
          <td onclick="addDish('Sữa tươi')">Sữa tươi - 15.000 VND</td>
        </tr>
        <tr>
          <td onclick="addDish('Bánh cuốn')">Bánh cuốn - 20.000 VND</td>
          <td onclick="addDish('Cam vắt')">Cam vắt - 20.000 VND</td>
        </tr>
      </table>
    </div>

    <div id="resultSection">
      <h3>Hóa đơn:</h3>
      <!-- Bill header -->
      <table id="resultTable" class="result-table">
        <thead>
          <tr>
            <th>Tên món</th>
            <!-- Column for dish names -->
            <th>Số lượng</th>
            <!-- Column for quantity of each dish -->
            <th>Giá</th>
            <!-- Column for the price -->
          </tr>
        </thead>
        <tbody></tbody>
        <!-- Dynamic content for ordered dishes -->
        <tfoot>
          <tr>
            <td colspan="3" id="totalAmountBox">
              Tổng tiền: <span id="totalAmount">0 VND</span>
              <!-- Shows total amount -->
            </td>
          </tr>
        </tfoot>
      </table>
    </div>

    <script>
      /* Object to store price data for each dish */
      const priceList = {
        "Bún bò": 20000,
        "Hủ tiếu": 20000,
        "Bánh canh": 20000,
        "Phở bò": 20000,
        Nui: 20000,
        "Bánh mì thịt": 15000,
        "Bánh cuốn": 20000,
        "Cà phê đá": 15000,
        "Cà phê sữa": 20000,
        "Chanh dây": 15000,
        "Chanh muối": 15000,
        "Xí muội": 15000,
        "Sữa tươi": 15000,
        "Cam vắt": 20000,
      };

      /* Array to store the current order */
      let bill = [];

      /* Function to add a dish to the bill */
      function addDish(dishName) {
        const price = priceList[dishName]; // Get price of the dish
        const existingItem = bill.find((item) => item.name === dishName); // Check if dish is already in the bill

        if (existingItem) {
          existingItem.quantity += 1; // Increase quantity if dish is already ordered
        } else {
          bill.push({ name: dishName, price: price, quantity: 1 }); // Add new dish to the bill
        }

        displayResults(); // Update the UI with the new bill
      }

      /* Function to update the quantity of a dish */
      function updateQuantity(dishName, newQuantity) {
        const item = bill.find((item) => item.name === dishName); // Find dish in the bill
        if (item) {
          item.quantity = newQuantity > 0 ? newQuantity : 1; // Update the quantity (min 1)
        }
        displayResults(); // Update the UI
      }

      /* Function to increase the quantity of a dish */
      function increaseQuantity(dishName) {
        const item = bill.find((item) => item.name === dishName); // Find dish in the bill
        if (item) {
          item.quantity += 1; // Increase the quantity
        }
        displayResults(); // Update the UI
      }

      /* Function to decrease the quantity of a dish */
      function decreaseQuantity(dishName) {
        const item = bill.find((item) => item.name === dishName); // Find dish in the bill
        if (item && item.quantity > 1) {
          item.quantity -= 1; // Decrease the quantity (but not below 1)
        }
        displayResults(); // Update the UI
      }

      /* Function to display the current bill */
      function displayResults() {
        const resultTableBody = document.querySelector("#resultTable tbody"); // Select the table body for the bill
        resultTableBody.innerHTML = ""; // Clear current content

        let total = 0; // Initialize total amount

        bill.forEach((item) => {
          const row = document.createElement("tr"); // Create a new row for each item in the bill
          row.innerHTML = `
      <td>${item.name}</td> <!-- Dish name -->
      <td>
        <button onclick="decreaseQuantity('${
          item.name
        }')">-</button> <!-- Decrease button -->
        <input type="number" value="${
          item.quantity
        }" onchange="updateQuantity('${item.name}', this.value)" />
        <button onclick="increaseQuantity('${
          item.name
        }')">+</button> <!-- Increase button -->
      </td>
      <td>${
        item.price * item.quantity
      } VND</td> <!-- Price (quantity * unit price) -->
    `;

          resultTableBody.appendChild(row); // Add the row to the table body

          total += item.price * item.quantity; // Update total amount
        });

        document.getElementById("totalAmount").textContent = `${total} VND`; // Display total amount
      }
    </script>
  </body>
</html>
